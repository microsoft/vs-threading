parameters:
- name: SkipCodesignVerify
  type: boolean

steps:
- ${{ if not(parameters.SkipCodesignVerify) }}:
  - task: MicroBuildCodesignVerify@3
    displayName: üîç Verify Signed Files
    inputs:
      ApprovalListPathForSigs: $(Build.SourcesDirectory)\azure-pipelines\no_strongname.txt
      ApprovalListPathForCerts: $(Build.SourcesDirectory)\azure-pipelines\no_authenticode.txt
      TargetFolders: |
        $(Build.SourcesDirectory)/bin/Packages/$(BuildConfiguration)
    condition: and(succeeded(), eq(variables['Agent.OS'], 'Windows_NT'))
